{
  "info": {
    "name": "Pennsylvania Road Network API",
    "description": "A comprehensive collection for testing the Pennsylvania Road Network REST API. This collection includes all endpoints with example requests and various use cases.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api/v1",
      "type": "string"
    },
    {
      "key": "sparqlEndpoint",
      "value": "http://localhost:3030/roadnet/sparql",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Nodes",
      "item": [
        {
          "name": "Get All Nodes",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/nodes?limit=100&offset=0&orderBy=degree&order=desc",
              "host": ["{{baseUrl}}"],
              "path": ["nodes"],
              "query": [
                {
                  "key": "limit",
                  "value": "100",
                  "description": "Number of results to return"
                },
                {
                  "key": "offset",
                  "value": "0",
                  "description": "Number of results to skip"
                },
                {
                  "key": "orderBy",
                  "value": "degree",
                  "description": "Field to order by"
                },
                {
                  "key": "order",
                  "value": "desc",
                  "description": "Sort order (asc/desc)"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Top 20 Most Connected Nodes",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/nodes?limit=20&orderBy=degree&order=desc",
              "host": ["{{baseUrl}}"],
              "path": ["nodes"],
              "query": [
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "orderBy",
                  "value": "degree"
                },
                {
                  "key": "order",
                  "value": "desc"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Nodes by Degree Range",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/nodes/by-degree?minDegree=6&maxDegree=10&limit=50",
              "host": ["{{baseUrl}}"],
              "path": ["nodes", "by-degree"],
              "query": [
                {
                  "key": "minDegree",
                  "value": "6",
                  "description": "Minimum connectivity degree"
                },
                {
                  "key": "maxDegree",
                  "value": "10",
                  "description": "Maximum connectivity degree"
                },
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Node by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/nodes/0",
              "host": ["{{baseUrl}}"],
              "path": ["nodes", "0"]
            }
          },
          "response": []
        },
        {
          "name": "Get Node Subgraph (Depth 1)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/nodes/0/subgraph?depth=1&limit=100",
              "host": ["{{baseUrl}}"],
              "path": ["nodes", "0", "subgraph"],
              "query": [
                {
                  "key": "depth",
                  "value": "1",
                  "description": "Number of hops from center node"
                },
                {
                  "key": "limit",
                  "value": "100"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Node Subgraph (Depth 2)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/nodes/0/subgraph?depth=2&limit=500",
              "host": ["{{baseUrl}}"],
              "path": ["nodes", "0", "subgraph"],
              "query": [
                {
                  "key": "depth",
                  "value": "2"
                },
                {
                  "key": "limit",
                  "value": "500"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Edges",
      "item": [
        {
          "name": "Get All Edges",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/edges?limit=1000&offset=0",
              "host": ["{{baseUrl}}"],
              "path": ["edges"],
              "query": [
                {
                  "key": "limit",
                  "value": "1000"
                },
                {
                  "key": "offset",
                  "value": "0"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Edges Filtered by Node IDs",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/edges?nodeIds=0,1,42156&limit=100",
              "host": ["{{baseUrl}}"],
              "path": ["edges"],
              "query": [
                {
                  "key": "nodeIds",
                  "value": "0,1,42156",
                  "description": "Comma-separated node IDs"
                },
                {
                  "key": "limit",
                  "value": "100"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Statistics",
      "item": [
        {
          "name": "Get Network Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/statistics/network",
              "host": ["{{baseUrl}}"],
              "path": ["statistics", "network"]
            }
          },
          "response": []
        },
        {
          "name": "Get Degree Distribution",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/statistics/degree-distribution",
              "host": ["{{baseUrl}}"],
              "path": ["statistics", "degree-distribution"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Classifications",
      "item": [
        {
          "name": "Get Classification Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/classifications",
              "host": ["{{baseUrl}}"],
              "path": ["classifications"]
            }
          },
          "response": []
        },
        {
          "name": "Get SKOS Concept Hierarchy",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/classifications/concepts",
              "host": ["{{baseUrl}}"],
              "path": ["classifications", "concepts"]
            }
          },
          "response": []
        },
        {
          "name": "Get Dead End Nodes",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/classifications/dead-ends?limit=100",
              "host": ["{{baseUrl}}"],
              "path": ["classifications", "dead-ends"],
              "query": [
                {
                  "key": "limit",
                  "value": "100"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Major Hubs",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/classifications/hubs?limit=100&type=all",
              "host": ["{{baseUrl}}"],
              "path": ["classifications", "hubs"],
              "query": [
                {
                  "key": "limit",
                  "value": "100"
                },
                {
                  "key": "type",
                  "value": "all",
                  "description": "Filter by type: 'Major Hub', 'Super Hub', or 'all'"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Super Hubs Only",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/classifications/hubs?limit=50&type=Super Hub",
              "host": ["{{baseUrl}}"],
              "path": ["classifications", "hubs"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "type",
                  "value": "Super Hub"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "SPARQL Queries",
      "item": [
        {
          "name": "Execute Custom SPARQL Query (JSON)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"PREFIX roadonto: <http://example.org/roadnet/ontology#>\\n\\nSELECT ?nodeId ?degree\\nWHERE {\\n  ?node a roadonto:RoadNode ;\\n        roadonto:hasNodeId ?nodeId ;\\n        roadonto:hasDegree ?degree .\\n  FILTER(?degree > 10)\\n}\\nORDER BY DESC(?degree)\\nLIMIT 10\",\n  \"format\": \"json\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/sparql/query",
              "host": ["{{baseUrl}}"],
              "path": ["sparql", "query"]
            }
          },
          "response": []
        },
        {
          "name": "Find Asymmetric Nodes",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"PREFIX roadonto: <http://example.org/roadnet/ontology#>\\n\\nSELECT ?nodeId ?inDegree ?outDegree (ABS(?inDegree - ?outDegree) AS ?difference)\\nWHERE {\\n  ?node a roadonto:RoadNode ;\\n        roadonto:hasNodeId ?nodeId ;\\n        roadonto:hasInDegree ?inDegree ;\\n        roadonto:hasOutDegree ?outDegree .\\n  FILTER(?inDegree != ?outDegree)\\n  FILTER(?inDegree > 5 || ?outDegree > 5)\\n}\\nORDER BY DESC(?difference)\\nLIMIT 20\",\n  \"format\": \"json\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/sparql/query",
              "host": ["{{baseUrl}}"],
              "path": ["sparql", "query"]
            }
          },
          "response": []
        },
        {
          "name": "Get Node Classifications Count",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"PREFIX road: <http://example.org/roadnet/pa#>\\nPREFIX roadonto: <http://example.org/roadnet/ontology#>\\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\\n\\nSELECT ?label (COUNT(?node) AS ?count)\\nWHERE {\\n  ?node a roadonto:RoadNode ;\\n        roadonto:hasClassification ?class .\\n  ?class skos:prefLabel ?label .\\n}\\nGROUP BY ?label\\nORDER BY DESC(?count)\",\n  \"format\": \"json\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/sparql/query",
              "host": ["{{baseUrl}}"],
              "path": ["sparql", "query"]
            }
          },
          "response": []
        },
        {
          "name": "Direct SPARQL Endpoint Query",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/sparql-query"
              },
              {
                "key": "Accept",
                "value": "application/sparql-results+json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "PREFIX roadonto: <http://example.org/roadnet/ontology#>\n\nSELECT ?nodeId ?degree\nWHERE {\n  ?node a roadonto:RoadNode ;\n        roadonto:hasNodeId ?nodeId ;\n        roadonto:hasDegree ?degree .\n}\nORDER BY DESC(?degree)\nLIMIT 5"
            },
            "url": {
              "raw": "{{sparqlEndpoint}}",
              "host": ["{{sparqlEndpoint}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Use Case Examples",
      "item": [
        {
          "name": "UC1: Find Critical Infrastructure Points",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/classifications/hubs?limit=50&type=Super Hub",
              "host": ["{{baseUrl}}"],
              "path": ["classifications", "hubs"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "type",
                  "value": "Super Hub"
                }
              ]
            },
            "description": "Find the top 50 super hubs for critical infrastructure monitoring"
          },
          "response": []
        },
        {
          "name": "UC2: Identify Rural Areas (Dead Ends)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/classifications/dead-ends?limit=500",
              "host": ["{{baseUrl}}"],
              "path": ["classifications", "dead-ends"],
              "query": [
                {
                  "key": "limit",
                  "value": "500"
                }
              ]
            },
            "description": "Get dead end nodes representing rural or terminal roads"
          },
          "response": []
        },
        {
          "name": "UC3: Find Standard Intersections for Study",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/nodes/by-degree?minDegree=4&maxDegree=5&limit=200",
              "host": ["{{baseUrl}}"],
              "path": ["nodes", "by-degree"],
              "query": [
                {
                  "key": "minDegree",
                  "value": "4"
                },
                {
                  "key": "maxDegree",
                  "value": "5"
                },
                {
                  "key": "limit",
                  "value": "200"
                }
              ]
            },
            "description": "Find standard 4-way intersections for traffic pattern analysis"
          },
          "response": []
        },
        {
          "name": "UC4: Get Network Overview for Dashboard",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/statistics/network",
              "host": ["{{baseUrl}}"],
              "path": ["statistics", "network"]
            },
            "description": "Get high-level network statistics for dashboard display"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "pm.test(\"Status code is 200\", function () {",
          "    pm.response.to.have.status(200);",
          "});",
          "",
          "pm.test(\"Response time is less than 5000ms\", function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});",
          "",
          "pm.test(\"Response is JSON\", function () {",
          "    pm.response.to.be.json;",
          "});"
        ]
      }
    }
  ]
}
